# Tor Relay Configuration
# Middle relay / Guard node (no exit traffic)
# Nickname and ContactInfo are set via environment variables in .env

# Disable SOCKS proxy (relay only, no local connections)
SOCKSPort 0
SOCKSPolicy reject *

# Logging
Log notice file /var/log/tor/notices.log
Log notice stdout

# Run in foreground (Docker manages the process)
RunAsDaemon 0

# Data directory
DataDirectory /var/lib/tor

# Control port configuration
ControlPort 9051
CookieAuthentication 1

############### Relay Configuration ###############

# Relay ports
ORPort 8443 IPv4Only
DirPort 8444 IPv4Only

# Relay identity - Set via TOR_NICKNAME and TOR_CONTACT_INFO env vars
# These placeholder values are overridden by environment variables
Nickname YourRelayNickname
ContactInfo your-email@example.com

# Bandwidth limits
# 1000 KB/s = ~1 MB/s sustained, 1500 KB/s = ~1.5 MB/s bursts
RelayBandwidthRate 1000 KBytes
RelayBandwidthBurst 1500 KBytes

# Exit policy: Middle relay / Guard node (no exit traffic)
ExitPolicy reject *:*

# Uncomment if running multiple relays (add fingerprints)
#MyFamily $fingerprint1,$fingerprint2

############### End Configuration ###############
